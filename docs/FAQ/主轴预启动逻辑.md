# 主轴预启动逻辑

> 实际的预启动逻辑比以下的更复杂.它还考虑到很多不同状态下的预启动。以下的内容主要是对预启动有一个概念性的了解

1. IsPreLaunch=true **主轴预启动**默认开启
2. PreLaunchTime=10.0 预启动时间:10s.
3. 开启主轴预启动的前提：需机床硬件支持**同时启动两个主轴**。具体支持情况请咨询设备厂家。
4. 参数位置:[data.ini文件](../userDocument/Instruction_data_file.md)


假设用户程序如下：

| 程序段 | 使用主轴 | 执行时间 |
| ------ | -------- | -------- |
| 1      | T1       | 20s      |
| 2      | T2       | 5s       |
| 3      | T3       | 15s      |
| 4      | T2       | 20s      |

主轴启动顺序说明：

- **程序段1**
  - 开始：启动 T1
  - 中间：距离加工完成还有 10s 时启动 T2
  - 完成：后续 2 个程序段未使用 T1，T1 停止

- **程序段2**
  - 开始：检查 T2 是否已启动。因自身加工时间仅 5s，会提前启动 T3
  - 中间：无额外动作
  - 结束：后续程序段 4 仍需 T2，T2 保持不停止

- **程序段3**
  - 开始：检查 T3 是否已启动。自身加工时间超过 10s，直接开始加工
  - 中间：判断 T2 是否已启动，若未启动则启动
  - 结束：后续无需求，T3 停止

- **程序段4**
  - 开始：检查 T2 是否已启动。后续无程序段，无需额外动作，开始加工
  - 中间：无额外动作
  - 结束：无后续程序段，且程序段 1 使用 T1，与当前主轴不同，T2 停止

---